{"version":3,"sources":["../../app-es6/services/FornecedoresService.js"],"names":["FornecedoresService","_http","HttpService","convidados","Promise","resolve","reject","get","then","res","sort","a","b","nome","toLowerCase","map","listaCardapios","Cardapios","objeto","cardapios","Cardapio","item","valorPorPessoa","aluguel","dj","decoracao","forEach","adiciona","cardapio","forn","Fornecedor","_id","qtdMax","local","tipo","observacoes","link","catch","console","log","err","dado","post","id","put","delete"],"mappings":"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","file":"FornecedoresService.js","sourcesContent":["class FornecedoresService{\r\n\tconstructor(){\r\n\t\tthis._http = new HttpService();\r\n\t}\r\n\tobterListaFornecedores(convidados){\r\n\t\treturn new Promise((resolve, reject) => {\r\n\r\n\t\t\tthis._http.get('v1/fornecedores')\r\n\t\t\t.then(res => {\r\n\t\t\t\tresolve(\r\n\t\t\t\t\tres\r\n\t\t\t\t\t.sort((a, b) =>{\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif(a.nome.toLowerCase() > b.nome.toLowerCase()){\r\n\t\t\t\t\t\t\treturn 1;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(a.nome.toLowerCase() < b.nome.toLowerCase()){\r\n\t\t\t\t\t\t\treturn -1;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn 0;\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.map(objeto => {\r\n\r\n\t\t            \tlet listaCardapios = new Cardapios();\r\n\r\n\t\t\t\t\t\tobjeto.cardapios\r\n\t\t            \t.map(item => new Cardapio(item.nome, item.valorPorPessoa, item.aluguel, item.dj, item.decoracao, convidados))\r\n\t\t            \t.forEach(cardapio => {\r\n\t\t            \t\tlistaCardapios.adiciona(cardapio)\r\n\t\t            \t});\r\n\t\t            \t\r\n\t\t            \tvar forn = new Fornecedor(objeto._id, objeto.nome, objeto.qtdMax, objeto.local, objeto.tipo, objeto.observacoes, listaCardapios , objeto.link);\r\n\r\n\t\t\t\t \t\treturn  forn;\r\n\t\t\t\t })\r\n\t\t\t\t)\r\n\t\t\t})\r\n\t\t\t.catch(err =>{\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t    reject('Não foi possível obter os fornecedores do servidor.')\r\n\t\t\t});\r\n\r\n\t\t})\r\n\t}\r\n\r\n\tenviarNovoFornecedor(dado){\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tthis._http.post('v1/fornecedores', dado)\r\n\t\t\t.then(res => resolve(res))\r\n\t\t\t.catch(err =>{\r\n\t\t\t\t//console.log(err);\r\n\t\t\t    reject(err)\r\n\t\t\t});\r\n\t\t})\r\n\t}\r\n\r\n\teditaFornecedor(id, dado){\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tthis._http.put(`v1/fornecedores/${id}`, dado)\r\n\t\t\t.then(res => resolve(res))\r\n\t\t\t.catch(err =>{\r\n\t\t\t\t//console.log(err);\r\n\t\t\t    reject(err)\r\n\t\t\t});\r\n\t\t})\r\n\t}\r\n\r\n\tdeletaFornecedorPorId(id){\r\n\t\treturn new Promise((resolve, reject) =>{\r\n\t\t\tthis._http.delete(`v1/fornecedores/${id}`)\r\n\t\t\t.then(res => resolve(res))\r\n\t\t\t.catch(err =>{\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t    reject('Não foi possível deletar os fornecedores.')\r\n\t\t\t});\r\n\t\t})\r\n\t}\r\n\r\n\tlistaTipo(){\r\n\t\treturn new Promise((resolve, reject) => {\r\n\r\n\t\t\tthis._http.get(`v1/tipofornecedor`)\r\n\t\t\t.then(res => resolve(res))\r\n\t\t\t.catch(err =>{\r\n\t\t\t    reject(err);\r\n\t\t\t});\r\n\r\n\t\t})\r\n\t}\r\n\r\n\tadicionaTipo(dado){\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t//console.log(\"adiciona tipo\", this);\r\n\t\t\tthis._http.post(`v1/tipofornecedor`, dado)\r\n\t\t\t.then(res => resolve(res))\r\n\t\t\t.catch(err =>{\r\n\t\t\t    reject(err);\r\n\t\t\t});\r\n\r\n\t\t})\r\n\t}\r\n\r\n\tlistaLocal(){\r\n\t\treturn new Promise((resolve, reject) => {\r\n\r\n\t\t\tthis._http.get(`v1/localfornecedor`)\r\n\t\t\t.then(res => resolve(res))\r\n\t\t\t.catch(err =>{\r\n\t\t\t    reject(err);\r\n\t\t\t});\r\n\r\n\t\t})\r\n\t}\r\n\r\n\tadicionaLocal(dado){\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t//console.log(\"adiciona local\", this);\r\n\t\t\tthis._http.post(`v1/localfornecedor`, dado)\r\n\t\t\t.then(res => resolve(res))\r\n\t\t\t.catch(err =>{\r\n\t\t\t    reject(err);\r\n\t\t\t});\r\n\r\n\t\t})\r\n\t}\r\n\r\n}"]}