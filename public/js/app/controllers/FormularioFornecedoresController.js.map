{"version":3,"sources":["../../app-es6/controllers/FormularioFornecedoresController.js"],"names":["FormularioFornecedoresController","$select","document","querySelector","bind","_mensagem","Bind","Mensagem","MensagemView","_conectaDB","FornecedoresService","_validacoes","Validacoes","cb","$","modal","_fornecedor","Fornecedor","FormFornecedorView","cardapios","Cardapios","FormCardapioView","_easyAutocomplete","url","classe","options","getValue","list","match","enabled","easyAutocomplete","item","Array","prototype","slice","call","querySelectorAll","event","id","preventDefault","init","listaFornecedores","fornecedoresController","_listaDeFornecedores","lista","forEach","index","arr","_id","cardapio","adiciona","setaValores","nome","qtdMax","local","tipo","observacoes","link","Cardapio","exclui","fornecedor","iteraObjeto","propriedade","objeto","target","value","i","funcao","prop","hasOwnProperty","invalido","validaRegExp","_todosInputs","console","log","novaMsg","Object","defineProperty","enumerable","propValidas","includes","promise","enviarNovoFornecedor","editaFornecedor","then","end","importa","res","helperCadastraSeNaoTiver","listaTipo","adicionaTipo","listaLocal","adicionaLocal","catch","err","trataErrorsInput","param","connection","tipoObj","toLowerCase","length","Existe","some","promiseAdiciona","erros","JSON","parse","errors","input","classList","add","focus","remove"],"mappings":"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","file":"FormularioFornecedoresController.js","sourcesContent":["class FormularioFornecedoresController{\r\n\tconstructor(){\r\n\t\t\r\n\t\tlet $select = document.querySelector.bind(document);\r\n\r\n\t\tthis._mensagem =  new Bind(\r\n\t\t\tnew Mensagem(),\r\n\t\t\tnew MensagemView($select(\"#mensagemView\")),\r\n\t\t\t'novaMsg');\r\n\r\n\t\tthis._conectaDB = new FornecedoresService();\r\n\r\n\t\tthis._validacoes = new Validacoes();\r\n\t}\r\n\r\n\tinit(cb){\r\n\t\t\r\n\t\tlet $select = document.querySelector.bind(document);\r\n\r\n\t\t$('.modal').modal();\r\n\r\n\t\tthis._fornecedor = new Bind(\r\n\t\t\tnew Fornecedor(),\r\n\t\t\tnew FormFornecedorView($select(\"#fornecedorView\")),\r\n\t\t\t'id', 'limpa', 'setaValores' );\r\n\r\n\t\tthis._fornecedor.cardapios =  new Bind(\r\n\t\t\tnew Cardapios(),\r\n\t\t\tnew FormCardapioView(document.querySelector(\"#cardapiosView\")),\r\n\t\t\t'adiciona', 'exclui', 'limpa');\r\n\t\t//console.log('init.fornecedor.cardapios.lista', this._fornecedor.cardapios.lista);\r\n\t\tthis._easyAutocomplete(\"/v1/tipofornecedor\", \"#fornecedorView #tipo\");\r\n\t\tthis._easyAutocomplete(\"/v1/localfornecedor\", \"#fornecedorView #local\");\r\n\r\n\t\tif(cb){\r\n\t\t\tcb();\t\t\t\r\n\t\t}\r\n\t\t\r\n\t}\r\n\tend(){\r\n\r\n\t\t$('.modal').modal(\"hide\");\r\n\t\tthis._fornecedor = {};\r\n\t\t//console.log('end.fornecedor.cardapio', this._fornecedor.cardapios);\r\n\t}\r\n\r\n\t_easyAutocomplete(url, classe){\r\n\t\tvar options = {\r\n\t\t\turl: url,\r\n\t\t\tgetValue: \"nome\",\r\n\t\t\tlist: {\r\n\t\t\t\tmatch: {\r\n\t\t\t\t\tenabled: true\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\t$(classe).easyAutocomplete(options);\r\n\t}\r\n\r\n\t_todosInputs(item){ \r\n\t\treturn Array.prototype.slice.call(document.querySelectorAll(\".formulario_fornecedor input\"));\r\n\t}\r\n\r\n\teditaFornecedor(event, id){\r\n\t\tevent.preventDefault();\r\n\r\n\t\tthis.init(() =>{\r\n\t\t\t\r\n\t\t\tlet listaFornecedores = fornecedoresController._listaDeFornecedores.lista;\r\n\r\n\t\t\tlistaFornecedores.forEach((item, index, arr) =>{\r\n\r\n\t\t\t\tif(item._id == id){\r\n\t\t\t\t\t\r\n\t\t\t\t\titem.cardapios.lista.forEach((cardapio, index) =>{\r\n\t\t\t\t\t\tthis._fornecedor.cardapios.adiciona(cardapio);\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tthis._fornecedor.setaValores(item.id, item.nome, item.qtdMax, item.local, item.tipo, item.observacoes, this._fornecedor.cardapios, item.link);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tthis._easyAutocomplete(\"/v1/tipofornecedor\", \"#fornecedorView #tipo\");\r\n\t\t\tthis._easyAutocomplete(\"/v1/localfornecedor\", \"#fornecedorView #local\");\r\n\t\t});\r\n\t}\r\n\r\n\tadicionaCardapio(event){\r\n\t\tevent.preventDefault();\r\n\t\tlet cardapio = new Cardapio();\r\n\t\tthis._fornecedor.cardapios.adiciona(cardapio);\r\n\t}\r\n\r\n\tremoveCardapio(event, index){\r\n\t\tevent.preventDefault();\r\n\t\tthis._fornecedor.cardapios.exclui(index);\r\n\t}\r\n\r\n\tsetValPropFornecedor(event){\r\n\r\n\t\tlet fornecedor = this._fornecedor;\r\n\t\tthis.iteraObjeto(fornecedor, (propriedade, objeto) =>{\r\n\t\t\tif(propriedade == `${event.target.id}`) \r\n\t\t\t\tobjeto[propriedade] = event.target.value\r\n\t\t});\r\n\r\n\t}\r\n\r\n\tsetValPropCardapio(event, index){\r\n\t\tthis._fornecedor.cardapios.lista.forEach((cardapio, i, arr)=>{\r\n\t\t\tif(i == index){\r\n\t\t\t\tthis.iteraObjeto(cardapio, (propriedade, objeto) =>{\r\n\t\t\t\t\tif(propriedade == `${event.target.id}`) \r\n\t\t\t\t\t\tobjeto[propriedade] = event.target.value;\r\n\t\t\t\t});\t\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\titeraObjeto(objeto, funcao){\r\n\t\tvar i = 0;\r\n\t\tfor (var prop in objeto) {\r\n\t\t\tif (objeto.hasOwnProperty(prop)) {\r\n\t\t\t\tfuncao(prop, objeto, i);\r\n\t\t\t\ti++\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tadiciona(event){\r\n\r\n\t\tevent.preventDefault();\r\n\t\t\r\n\t\tlet $select = document.querySelector.bind(document);\r\n\t\tlet invalido = this._validacoes.validaRegExp(this._todosInputs());\r\n\r\n\t\tconsole.log('invalido: ', invalido);\r\n\t\tif(invalido)\r\n\t\t{\r\n\t\t\tthis._mensagem.novaMsg('Por favor preencha os campos obrigatórios', \"danger\", 2400);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\t//criando o object para ser enviado\r\n\t\tlet fornecedor = this._fornecedor;\r\n\t\t\t\t\r\n\t\tObject.defineProperty(fornecedor, '_id', {\r\n\t\t\tenumerable: false\r\n\t\t});\r\n\r\n\t\tfornecedor.cardapios.lista.forEach((cardapio, i, arr) =>{\r\n\t\t\t\r\n\t\t\tlet propValidas = [ 'nome', 'valorPorPessoa', 'aluguel', 'dj', 'decoracao'];\r\n\r\n\t\t\tfor(var prop in cardapio){\r\n\t\t\t\tif( !propValidas.includes(prop)) Object.defineProperty(cardapio, prop, {enumerable: false})\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn cardapio;\r\n\t\t});\r\n\r\n\t\tfornecedor.cardapios = fornecedor.cardapios.lista;\r\n\r\n\t\tlet promise;\r\n\r\n\t\tif(!fornecedor.id){\tpromise = this._conectaDB.enviarNovoFornecedor(fornecedor); }\r\n\t\telse{ promise = this._conectaDB.editaFornecedor(fornecedor.id, fornecedor); }\r\n\t\t\r\n\t\tpromise\r\n\t\t.then(res => {\r\n\t\t\tthis._mensagem.novaMsg('Forncedor incluido com sucesso', \"success\", 2400);\r\n\t\t\tthis.end();\r\n\t\t\tfornecedoresController.importa();\r\n\t\t\tconsole.log(res);\r\n\t\t})\r\n\t\t.then(() => {\r\n\t\t\tthis.helperCadastraSeNaoTiver(this._conectaDB.listaTipo(), \r\n\t\t\t\tfornecedor.tipo, \r\n\t\t\t\tthis._conectaDB,\r\n\t\t\t\tthis._conectaDB.adicionaTipo.bind(this._conectaDB));\r\n\t\t})\r\n\t\t.then(() => {\r\n\r\n\t\t\tthis.helperCadastraSeNaoTiver(this._conectaDB.listaLocal(), \r\n\t\t\t\tfornecedor.local, \r\n\t\t\t\tthis._conectaDB,\r\n\t\t\t\tthis._conectaDB.adicionaLocal.bind(this._conectaDB));\r\n\t\t})\r\n\t\t.catch(err => {\r\n\t\t\tconsole.log(err);\r\n\t\t\ttrataErrorsInput(err);\r\n\t\t\tthis._mensagem.novaMsg('Não foi possível cadastrar o fornecedor.', \"danger\", 2400);\r\n\t\t});\r\n\r\n\r\n\t}\r\n\r\n\thelperCadastraSeNaoTiver(promise, param, connection, adiciona){\r\n\r\n\t\tlet tipoObj = {nome: param.toLowerCase()};\r\n\r\n\t\tpromise\r\n\t\t.then(res =>{\r\n\t\t\tif(res.length)\r\n\t\t\t{\r\n\t\t\t\tvar Existe = res.some((item, i, arr) =>{ return item.nome.toLowerCase() == param.toLowerCase(); });\r\n\r\n\t\t\t\tif(!Existe){\r\n\r\n\t\t\t\t\tlet promiseAdiciona = adiciona(tipoObj);\r\n\t\t\t\t\tpromiseAdiciona.then(res => console.log(res)).catch(err => console.log(err));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\t\r\n\t\t\t\tlet promiseAdiciona = adiciona(tipoObj);\r\n\t\t\t\tpromiseAdiciona.then(res => console.log(res)).catch(err => console.log(err));\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch(err =>{\r\n\t\t\tconsole.log(err);\r\n\t\t});\r\n\t}\r\n\r\n\ttrataErrorsInput(err){\r\n\t\tvar erros = JSON.parse(err).errors;\r\n\r\n\t\tthis.iteraObjeto(erros, (prop, objeto, index) => {\r\n\t\t\tthis._todosInputs().forEach(input => {\r\n\t\t\t\tif(input.id == prop){\r\n\t\t\t\t\tinput.classList.add(\"is-invalid\");\r\n\t\t\t\t\t input.focus()\r\n\t\t\t\t}\r\n\t\t\t\telse{ \r\n\t\t\t\t\tinput.classList.remove(\"is-invalid\");\r\n\t\t\t\t}\r\n\t\t\t})\t\t\t\t\r\n\t\t});\r\n\t}\r\n}"]}